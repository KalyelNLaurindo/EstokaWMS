<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="789px" preserveAspectRatio="none" style="width:2627px;height:789px;" version="1.1" viewBox="0 0 2627 789" width="2627px" zoomAndPan="magnify"><defs><filter height="300%" id="fyu1qrty3n8lh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="86.2969" y2="701.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="253.5" x2="253.5" y1="86.2969" y2="701.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="492.5" x2="492.5" y1="86.2969" y2="701.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="797.5" x2="797.5" y1="86.2969" y2="701.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1098" x2="1098" y1="86.2969" y2="701.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1348" x2="1348" y1="86.2969" y2="701.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1594.5" x2="1594.5" y1="86.2969" y2="701.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1809" x2="1809" y1="86.2969" y2="701.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2021" x2="2021" y1="86.2969" y2="701.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2578.5" x2="2578.5" y1="86.2969" y2="701.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="8" y="82.9951">Usuário</text><ellipse cx="37" cy="13" fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M37,21 L37,48 M24,29 L50,29 M37,48 L24,63 M37,48 L50,63 " fill="none" filter="url(#fyu1qrty3n8lh)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="8" y="713.9482">Usuário</text><ellipse cx="37" cy="727.25" fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M37,735.25 L37,762.25 M24,743.25 L50,743.25 M37,762.25 L24,777.25 M37,762.25 L50,777.25 " fill="none" filter="url(#fyu1qrty3n8lh)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="155.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="162.5" y="70.9951">ProductEntryView (Flutter)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="155.5" y="700.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="162.5" y="720.9482">ProductEntryView (Flutter)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="373.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="221" x="380.5" y="70.9951">ProductEntryViewModel (Flutter)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="373.5" y="700.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="221" x="380.5" y="720.9482">ProductEntryViewModel (Flutter)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="685.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="207" x="692.5" y="70.9951">ApiProductRepository (Flutter)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="685.5" y="700.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="207" x="692.5" y="720.9482">ApiProductRepository (Flutter)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="1030" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="1037" y="70.9951">ApiClient (Flutter)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="1030" y="700.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="1037" y="720.9482">ApiClient (Flutter)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="1271" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="1278" y="70.9951">GoBackendAPI (Go)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="1271" y="700.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="1278" y="720.9482">GoBackendAPI (Go)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1542.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1549.5" y="70.9951">Handler (Go)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1542.5" y="700.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1549.5" y="720.9482">Handler (Go)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="1758" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="1765" y="70.9951">Service (Go)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="1758" y="700.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="1765" y="720.9482">Service (Go)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="1936" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="1943" y="70.9951">SQLiteRepository (Go)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="1936" y="700.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="1943" y="720.9482">SQLiteRepository (Go)</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="2537.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="2544.5" y="70.9951">SQLiteDB</text><rect fill="#FEFECE" filter="url(#fyu1qrty3n8lh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="2537.5" y="700.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="2544.5" y="720.9482">SQLiteDB</text><polygon fill="#A80036" points="242,113.4297,252,117.4297,242,121.4297,246,117.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="248" y1="117.4297" y2="117.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="44" y="112.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="57" y="112.3638">Insere SKU e Quantidade</text><polygon fill="#A80036" points="242,142.5625,252,146.5625,242,150.5625,246,146.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="248" y1="146.5625" y2="146.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="44" y="141.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="57" y="141.4966">Clica em "Registrar Entrada"</text><polygon fill="#A80036" points="481,171.6953,491,175.6953,481,179.6953,485,175.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="487" y1="175.6953" y2="175.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="261" y="170.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="274" y="170.6294">registerEntry()</text><polygon fill="#A80036" points="786,200.8281,796,204.8281,786,208.8281,790,204.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="493" x2="792" y1="204.8281" y2="204.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="500" y="199.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="513" y="199.7622">registerEntry(sku, quantity)</text><polygon fill="#A80036" points="1086,229.9609,1096,233.9609,1086,237.9609,1090,233.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="798" x2="1092" y1="233.9609" y2="233.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="805" y="228.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="818" y="228.895">post("/products/{sku}/entry", {quantity})</text><polygon fill="#A80036" points="1336,259.0938,1346,263.0938,1336,267.0938,1340,263.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1098" x2="1342" y1="263.0938" y2="263.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1105" y="258.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="1118" y="258.0278">HTTP POST /products/{sku}/entry</text><polygon fill="#A80036" points="1583,288.2266,1593,292.2266,1583,296.2266,1587,292.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1348" x2="1589" y1="292.2266" y2="292.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1355" y="287.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="1368" y="287.1606">RegisterEntryHandler(req)</text><polygon fill="#A80036" points="1797,317.3594,1807,321.3594,1797,325.3594,1801,321.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1595" x2="1803" y1="321.3594" y2="321.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1602" y="316.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="1615" y="316.2935">RegisterEntry(sku, quantity)</text><polygon fill="#A80036" points="2009,346.4922,2019,350.4922,2009,354.4922,2013,350.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1809" x2="2015" y1="350.4922" y2="350.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1816" y="345.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="1829" y="345.4263">UpdateStock(sku, quantity)</text><polygon fill="#A80036" points="2567,375.625,2577,379.625,2567,383.625,2571,379.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2021" x2="2573" y1="379.625" y2="379.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2028" y="374.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="512" x="2050" y="374.5591">UPDATE products SET quantity_in_stock = quantity_in_stock + ? WHERE sku = ?</text><polygon fill="#A80036" points="2032,404.7578,2022,408.7578,2032,412.7578,2028,408.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2026" x2="2578" y1="408.7578" y2="408.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2038" y="403.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="2060" y="403.6919">Resultado da Atualização</text><polygon fill="#A80036" points="1820,433.8906,1810,437.8906,1820,441.8906,1816,437.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1814" x2="2020" y1="437.8906" y2="437.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1826" y="432.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="1848" y="432.8247">Sucesso/Erro</text><polygon fill="#A80036" points="1606,463.0234,1596,467.0234,1606,471.0234,1602,467.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1600" x2="1808" y1="467.0234" y2="467.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1612" y="461.9575">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="1634" y="461.9575">Sucesso/Erro</text><polygon fill="#A80036" points="1359,492.1563,1349,496.1563,1359,500.1563,1355,496.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1353" x2="1594" y1="496.1563" y2="496.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1365" y="491.0903">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="1387" y="491.0903">HTTP Response (200 OK / Error)</text><polygon fill="#A80036" points="1109,521.2891,1099,525.2891,1109,529.2891,1105,525.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1103" x2="1347" y1="525.2891" y2="525.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1115" y="520.2231">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="1137" y="520.2231">HTTP Response</text><polygon fill="#A80036" points="809,550.4219,799,554.4219,809,558.4219,805,554.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="803" x2="1097" y1="554.4219" y2="554.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="815" y="549.356">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="837" y="549.356">Resposta</text><polygon fill="#A80036" points="504,579.5547,494,583.5547,504,587.5547,500,583.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="498" x2="797" y1="583.5547" y2="583.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="510" y="578.4888">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="532" y="578.4888">Sucesso/Erro</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="493" x2="535" y1="612.6875" y2="612.6875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="535" x2="535" y1="612.6875" y2="625.6875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="535" y1="625.6875" y2="625.6875"/><polygon fill="#A80036" points="504,621.6875,494,625.6875,504,629.6875,500,625.6875" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="500" y="607.6216">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="522" y="607.6216">Atualiza estado (isLoading, errorMessage)</text><polygon fill="#A80036" points="265,650.8203,255,654.8203,265,658.8203,261,654.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="492" y1="654.8203" y2="654.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="271" y="649.7544">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="293" y="649.7544">Notifica atualização de estado</text><polygon fill="#A80036" points="48,679.9531,38,683.9531,48,687.9531,44,683.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="253" y1="683.9531" y2="683.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="54" y="678.8872">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="76" y="678.8872">Exibe confirmação ou erro</text><!--MD5=[c8b930a4400cc6b5a0c812b3506692f5]
@startuml
autonumber

actor "Usuário" as User
participant "ProductEntryView (Flutter)" as View
participant "ProductEntryViewModel (Flutter)" as ViewModel
participant "ApiProductRepository (Flutter)" as FlutterRepo
participant "ApiClient (Flutter)" as FlutterClient
participant "GoBackendAPI (Go)" as GoAPI
participant "Handler (Go)" as GoHandler
participant "Service (Go)" as GoService
participant "SQLiteRepository (Go)" as GoRepo
participant "SQLiteDB" as DB

User -> View : Insere SKU e Quantidade
User -> View : Clica em "Registrar Entrada"
View -> ViewModel : registerEntry()
ViewModel -> FlutterRepo : registerEntry(sku, quantity)
FlutterRepo -> FlutterClient : post("/products/{sku}/entry", {quantity})
FlutterClient -> GoAPI : HTTP POST /products/{sku}/entry
GoAPI -> GoHandler : RegisterEntryHandler(req)
GoHandler -> GoService : RegisterEntry(sku, quantity)
GoService -> GoRepo : UpdateStock(sku, quantity)
GoRepo -> DB : UPDATE products SET quantity_in_stock = quantity_in_stock + ? WHERE sku = ?
DB - -> GoRepo : Resultado da Atualização
GoRepo - -> GoService : Sucesso/Erro
GoService - -> GoHandler : Sucesso/Erro
GoHandler -> GoAPI : HTTP Response (200 OK / Error)
GoAPI - -> FlutterClient : HTTP Response
FlutterClient - -> FlutterRepo : Resposta
FlutterRepo - -> ViewModel : Sucesso/Erro
ViewModel -> ViewModel : Atualiza estado (isLoading, errorMessage)
ViewModel -> View : Notifica atualização de estado
View -> User : Exibe confirmação ou erro

@enduml

PlantUML version 1.2020.02(Sun Mar 01 05:22:07 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.27+6-post-Ubuntu-0ubuntu122.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>